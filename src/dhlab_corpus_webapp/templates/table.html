{% extends "index_base.html" %}

{% block table %}

<div class="datatable-container">
    <div class="scrollable-table-container"> 
    {{res_table | safe}}
</div>
</div>
    <script>
        var corpusName = "{{ corpus_name_ }}";  //Render the Flask variable into JavaScript
        //var json_table = "{{ json_table | safe }}"
        const jsonString = JSON.stringify({{ json_table | safe }});
        localStorage.setItem('datatableContent', jsonString);
        localStorage.setItem('corpusName', corpusName);
        new DataTable('#results_table', {
            layout: {
            topStart: 'buttons'
            },
            buttons: [ 
            {
            extend: 'csv',
            text: 'Last ned data i csv-format',
            filename: corpusName  
            },
            {
            extend: 'excel',
            text: 'Last ned data i excel-format',
            filename: corpusName 
            }
            ]
            });

    </script>

{% endblock table %}