{% if doctypes and concordances|length > 0 %}
<div class="datatable-container">
  <div class="scrollable-table-container">
    <table id="concordance-table" class="display">
      <caption>
        Resultater:
      </caption>
      <thead>
        <tr>
          <th scope="col">Tittel</th>
          <th scope="col">Kontekst</th>
          {% if "digavis" not in doctypes or doctypes|length > 1 %}<th scope="col">Forfatter</th>{%- endif %}
          <th scope="col">Utgitt</th>
        </tr>
      </thead>
      <tbody>
      {% for row in concordances.itertuples() %}
          <tr>
              <th scope="row"><a href="https://www.nb.no/items/{{row.urn}}?searchText={{query}}" target="_blank">{{row.title}}</a></th>
              <td>{{row.concordance | safe}}</td>
              {% if "digavis" not in doctypes or doctypes|length> 1 %}<td>{{row.authors}}</td>{%- endif %}
              <td>{{row.timestamp.strftime(row.timeformat)}}</td>
          </tr>
      {% endfor %}
      </tbody>
    </table>
  </div>
</div>
<a download="konkordanser.zip" href="data:application/zip;base64,{{ data_zip | safe }}">Last ned konkordanser</a>

{% elif not doctypes %}
    <p><strong>Du søker i et tomt korpus og derfor kan ingen konkordanser vises. Prøv å bygge et korpus med andre parametre.</strong></p>
{% elif concordances.empty %}
    <p><strong>Fant ingen konkordanser i korpuset som passer til søkekriteriene.</strong></p>
{% endif %}

<script>initializeDataTable('#concordance-table');</script>
